# ã‚ªãƒˆãƒŠã®Ionicå…¥é–€
2018å¹´4æœˆ4æ—¥

ã‚ªãƒˆãƒŠã®ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°å‹‰å¼·ä¼š<br>
å”åŠ› **æœªæ¥ä¼šè­°å®¤**

[connpass](https://otona.connpass.com/event/83010/)<!--- .element target="_blank" -->

---

# è‡ªå·±ç´¹ä»‹

- æ‘ä¸Šã€€å“
- 30æ­³
- ãƒ•ãƒªãƒ¼ãƒ©ãƒ³ã‚¹
- Angular/Ruby On Rails

---

ã‚ªãƒˆãƒŠã®ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°å‹‰å¼·ä¼š<br>
[http://otona.pro](http://otona.pro)<!--- .element target="_blank" -->

- 2016å¹´8æœˆã‹ã‚‰é–‹å§‹
- æœˆ2å›ï¼ˆç¬¬1æ°´æ›œã€ç¬¬3æ°´æ›œï¼‰
- ã„ã¤ã§ã‚‚è¬›å¸«å‹Ÿé›†ä¸­
    - ãƒ—ãƒ­ã‚°ãƒ©ãƒ è¨€èªã€æ©Ÿæ¢°å­¦ç¿’ã€Webç³»...
- [YouTube Live](https://www.youtube.com/channel/UCrXf76sF5RUKcGpMpZASqow)<!--- .element target="_blank" -->ã§ãƒªãƒ¢ãƒ¼ãƒˆå‚åŠ ã‚‚æŒ¯ã‚Šè¿”ã‚Šã‚‚å¯(?)

---

![ionic logo landscape](../../image/20180404/ionic-logo-landscape.png)

---

# Ionicã«ã¤ã„ã¦

- ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒªã®UIã«ç‰¹åŒ–ã—ãŸãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
    - è¡¨ç¤ºã™ã‚‹ç’°å¢ƒã«ã‚ˆã£ã¦iOS/Android/Windowså‘ã‘ã«ãƒ†ãƒ¼ãƒå¤‰æ›´
    - ãƒ‘ã‚½ã‚³ãƒ³ãƒ–ãƒ©ã‚¦ã‚¶ã¯Androidç‰ˆãŒãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ
- Angularã‚’ä½¿ç”¨ã—ã¦å®Ÿè£…
- HTML/CSS(Sass)/TypeScript
- Cordovaã¨ã®é€£æº
- ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹(MIT)
    - [ionic-team/ionic](https://github.com/ionic-team/ionic)<!--- .element target="_blank" -->

---

# Cordovaã«ã¤ã„ã¦

- PhoneGapã®ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ç‰ˆ
- HTML/CSS/JSã‚’ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒªåŒ–
    - å†…éƒ¨ã§WebViewåˆ©ç”¨
- ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’è¿½åŠ ã™ã‚‹ã“ã¨ã§å„ãƒã‚¤ãƒ†ã‚£ãƒ–æ©Ÿèƒ½ãŒåˆ©ç”¨å¯
    - ä¾‹)ã‚«ãƒ¡ãƒ©, ã‚®ãƒ£ãƒ©ãƒªãƒ¼, ä½ç½®æƒ…å ±...

<img src="../../image/20180404/cordova_512.png" width="240" height="240">

---

# Ionicã¨Cordova

- App Store/Google Playã«ã‚¢ãƒ—ãƒªã‚’å‡ºã—ãŸã„å ´åˆCordovaã‚’åˆ©ç”¨
    - Ionicãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆæ™‚ã«Cordovaçµ±åˆã™ã‚‹ã‹ã‚’é¸æŠå¯
- Ionicãƒãƒ¼ãƒ ã¯Cordovaé€£æºç”¨ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½œæˆã—å…¬é–‹
    - [Ionic Natvie](https://ionicframework.com/docs/native/)<!--- .element target="_blank" -->
- ä»Šå¾Œãƒ–ãƒ©ã‚¦ã‚¶ä»•æ§˜ã®å®Ÿè£…ã§Cordovaä½¿ç”¨ã®æ©Ÿä¼šã¯æ¸›ã£ã¦ã„ãã‹ã‚‚â€¦ï¼Ÿ

ä»Šå›ç›´æ¥iOS/Androidå‘ã‘ãƒ“ãƒ«ãƒ‰ã¯ã—ãªã„ãŸã‚Cordovaã¯åˆ©ç”¨ã—ã¾ã›ã‚“

---

# ãƒãƒ³ã‚ºã‚ªãƒ³

æŠ€è¡“çš„ãªã“ã¨ã¯ãŸãã•ã‚“ã‚ã‚Šã¾ã™ãŒ  
ã¾ãšã¯å‹•ã‹ã—ã¦ã¿ã¾ã—ã‚‡ã†

(åŸºæœ¬çš„ã«Unixã‚³ãƒãƒ³ãƒ‰ã®è¨˜è¿°ã§ã™  
Windowsã®æ–¹ã¯è„³å†…å¤‰æ›ãŠé¡˜ã„ã—ã¾ã™ğŸ™‡)

---

# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ

```
$ ionic create hello blank

# Cordovaã‚’åˆ©ç”¨ã™ã‚‹ã‹ã®é¸æŠè‚¢ã§ã™ã€‚ä»Šå›ã¯ N ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„
? Would you like to integrate your new app with Cordova to  
   target native iOS and Android? (y/N) N
```

---

# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå®Ÿè¡Œ

å®Ÿè¡Œã™ã‚‹ã¨è‡ªå‹•ã§[http://localhost:8100](http://localhost:8100)<!--- .element target="_blank" -->ã«ãƒ–ãƒ©ã‚¦ã‚¶ã‚¢ã‚¯ã‚»ã‚¹ã—ã¾ã™  

```
$ cd hello
$ ionic serve
```

---

# ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ¢ãƒ¼ãƒ‰

å„ãƒ–ãƒ©ã‚¦ã‚¶ã§ã‚¹ãƒãƒ›ç”¨ã®è¡¨ç¤ºã«ãªã‚‹æ©Ÿèƒ½ãŒã‚ã‚Šã¾ã™  
åˆ©ç”¨ãƒ–ãƒ©ã‚¦ã‚¶ã§æŒ‡å®šæ–¹æ³•ãŒé•ã†ãŸã‚å„ä½æ¤œç´¢ãŠé¡˜ã„ã—ã¾ã™ğŸ™‡

Edgeã¯è¨­å®šå¤§å¤‰ãªãŸã‚ãã®å ´åˆChromeæ¨å¥¨
Firefox/Safariã‚‚æ‘ä¸Šã¯ä½¿ã£ã¦ã¾ã™

---

# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ

é‡è¦ãªã‚‚ã®ã ã‘è¨˜è¿°

- src
    - ã‚¢ãƒ—ãƒªãƒ•ã‚©ãƒ«ãƒ€(æ¬¡ãƒšãƒ¼ã‚¸è©³ç´°)
- www
    - srcãƒ•ã‚©ãƒ«ãƒ€ã‹ã‚‰ãƒ“ãƒ«ãƒ‰ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é…ç½®
- ionic.config.js
    - Ionicã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®š
- package.json
    - Node.jsã«ã‚ˆã‚‹ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç®¡ç†ãƒ•ã‚¡ã‚¤ãƒ«

---

# srcãƒ•ã‚©ãƒ«ãƒ€

- app
    - ãƒ¡ã‚¤ãƒ³ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«
- pages
    - ãƒšãƒ¼ã‚¸ã¨ãªã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ•ã‚©ãƒ«ãƒ€
- theme/variables.scss
    - ãƒ¦ãƒ¼ã‚¶ãƒ†ãƒ¼ãƒç”¨ã®SCSSãƒ•ã‚¡ã‚¤ãƒ«
- index.html
    - æœ€åˆã®è¡¨ç¤ºã«å‘¼ã°ã‚Œã‚‹HTML

ä»–ã€æ©Ÿèƒ½ã«ã‚ˆã£ã¦providers/pipeãªã©ã®ãƒ•ã‚©ãƒ«ãƒ€ãŒè¿½åŠ ã•ã‚Œã¾ã™

---

# srcãƒ•ã‚©ãƒ«ãƒ€

Service Workerã¨ã„ã†æ©Ÿèƒ½ã®ãŸã‚ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ãŒãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ç”Ÿæˆã•ã‚Œã¾ã™

- manifest.json
- service-worker.js

`index.html` ã§æœ‰åŠ¹ã«ã™ã‚‹ã“ã¨ã§æœ‰åŠ¹åŒ–ã•ã‚Œã¾ã™  
Service Workerã«ã¤ã„ã¦ã¯ä»Šå›å–ã‚Šä¸Šã’ã¾ã›ã‚“

---

ä»¥ä¸‹ã€æ˜ç¤ºã—ãªã„é™ã‚Šsrcãƒ•ã‚©ãƒ«ãƒ€ã®ãƒ•ã‚¡ã‚¤ãƒ«

---

# ç”Ÿæˆã‚³ãƒ¼ãƒ‰ç¢ºèª

`app/app.module.ts` ã‹ã‚‰å®Ÿè¡Œ  
`IonicModule.forRoot` ã§æœ€åˆã«èµ·å‹•ã™ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’æŒ‡å®š

```ts
imports: [
  BrowserModule,
  IonicModule.forRoot(MyApp)
],
bootstrap: [IonicApp], 
```

---

# MyApp

`app/app.component.ts` ã«MyAppã®å®šç¾©

```ts
@Component({
  templateUrl: 'app.html'
})
export class MyApp {
  rootPage:any = HomePage; // è¡¨ç¤ºã‚’HomePageã«

  constructor(platform: Platform, statusBar: StatusBar, splashScreen: SplashScreen) {
    platform.ready().then(() => {   
      statusBar.styleDefault();
      splashScreen.hide();
    });
  }
}
```

---

# HomePageæ§‹æˆ

pagesãƒ•ã‚©ãƒ«ãƒ€ã«ã¯è¡¨ç¤ºç”»é¢ã¨ãªã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆã“ã“ã§ã¯HomePageï¼‰ãŒé…ç½®ã•ã‚Œã¾ã™

- pages/home/home.html
    - HomePageã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
- pages/home/home.scss
    - HomePageã®ã‚¹ã‚¿ã‚¤ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«
- pages/home/home.ts
    - HomePageã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆãƒ•ã‚¡ã‚¤ãƒ«

---

# LiveReload

`ionic serve` ã§å®Ÿè¡Œä¸­ã¯ãƒ©ã‚¤ãƒ–ãƒªãƒ­ãƒ¼ãƒ‰ãŒåˆ©ç”¨å¯èƒ½

```html
<!-- pages/home/home.html -->
<!-- ç•¥ -->
<ion-content padding>
  <h1>Hello Ionic!</h1>
</ion-content>
```

---

# Master-Detail

é »å‡ºãƒ‘ã‚¿ãƒ¼ãƒ³ã§ã‚ã‚‹ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨  
ç”»é¢ãŒé·ç§»ã™ã‚‹å‡¦ç†ã‚’å®Ÿè£…ã—ã¾ã—ã‚‡ã†

---

# Generateã‚³ãƒãƒ³ãƒ‰

`ionic generate`ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã†ã¨å„æ©Ÿèƒ½ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ç”Ÿæˆ

```sh
$ ionic generate page Detail
[OK] Generated a page named Detail!
```

---

# Master-Detail

HomePageã«ãƒœã‚¿ãƒ³ã‚’è¿½åŠ ã—ãƒšãƒ¼ã‚¸é·ç§»ã‚’å®Ÿè£…

```html
<!-- pages/home/home.html -->
<ion-content padding>
  <h1>Hello Ionic!</h1>
  <button ion-button (click)="push()">Push</button>
</ion-content>
```

```ts
// pages/home/home.ts
export class HomePage {
  constructor(public navCtrl: NavController) {
  }
  push() {
    this.navCtrl.push('DetailPage');
  }
}
```

---

`ionic serve` ã‚’å†å®Ÿè¡Œã—ã¦ãƒ†ã‚¹ãƒˆ

![master detail](../../image/20180404/master-detail.png)

---

# Lazy Loading

`pages/detail/detail.module.ts` ã¨ã„ã†homeã«ã¯ãªã„ãƒ•ã‚¡ã‚¤ãƒ«ãŒç”Ÿæˆ  
`[name].module.ts` ã¯Lazy Loadingã®ãŸã‚ã®ãƒ•ã‚¡ã‚¤ãƒ«

å®Ÿéš›ã«ãã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒå¿…è¦ã«ãªã‚‹ã¾ã§èª­ã¿è¾¼ã¿ã‚’é…å»¶ã—åˆæœŸãƒ­ãƒ¼ãƒ‰æ™‚é–“ã‚’çŸ­ãã—ã¾ã™

---

# å°è©±

HomePageã‚‚Lazy LoadingåŒ–ã§ãã¾ã™ï¼ˆã‚€ã—ã‚æ¨å¥¨ï¼‰  
åˆæœŸã®ã“ã‚Lazy LodingãŒãªã‹ã£ãŸãŸã‚ä»Šã‚‚åˆæœŸæ§‹æˆãŒæ˜”ã®ã¾ã¾ã®ã‚ˆã†ã§ã™  
generateã‚³ãƒãƒ³ãƒ‰ã§ç”Ÿæˆã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã¯ã™ã¹ã¦Lazy Loadingã•ã‚Œã¾ã™  

(preloadã®è¨­å®šã‚‚å¯èƒ½)

---

# Ionicã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½¿ã£ã¦ã¿ã‚ˆã†

---

# UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

Ionicã«ã¯æ²¢å±±ã®UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒç”¨æ„ã•ã‚Œã¦ã„ã‚‹  
ã‚¿ã‚°ã‚’è¨˜è¿°ã™ã‚‹ã ã‘ã§åˆ©ç”¨å¯èƒ½

[https://ionicframework.com/docs/components/](https://ionicframework.com/docs/components/)<!--- .element target="_blank" -->

---

# ãƒªã‚¹ãƒˆ

Ionicã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§ã¯ã‚½ãƒ¼ã‚¹ã‚µãƒ³ãƒ—ãƒ«ã¨ãƒ‡ãƒ¢ã‚’ãŠè©¦ã—å¯èƒ½  

[https://ionicframework.com/docs/components/#lists](https://ionicframework.com/docs/components/#lists)<!--- .element target="_blank" -->

ãƒ‡ãƒ¢ã®ã‚½ãƒ¼ã‚¹ã¯githubã«ã‚ã‚‹

[demos/src/list](https://github.com/ionic-team/ionic/tree/v3/demos/src/list)<!--- .element target="_blank" -->

(ç¾åœ¨ãƒãƒ¼ã‚¸ãƒ§ãƒ³4é–‹ç™ºä¸­ã®ãŸã‚v3ã¯ãƒ–ãƒ©ãƒ³ãƒåˆ†ã‹ã‚Œã¦ã¾ã™)

---

# UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½¿ã£ã¦é–‹ç™ºã—ã¦ã¿ã‚ˆã†

---

# ã‚„ã£ã¦ã¿ãŸã„ã“ã¨

APIã§ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ã¦Ionicã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§è¡¨ç¤ºã™ã‚‹

---

# Dog API

[https://dog.ceo/dog-api/](https://dog.ceo/dog-api/)<!--- .element target="_blank" -->

- APIã‚­ãƒ¼ãªã©ã®èªè¨¼ãŒã„ã‚‰ãªã„API
- CORSå¯¾å¿œï¼ˆé‡è¦ï¼‰
- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¨ã‚µãƒ³ãƒ—ãƒ«ãŒã‚ã‚‹ï¼ˆé‡è¦ï¼‰
- 120ç¨®2ä¸‡æšä»¥ä¸Šç”»åƒãŒã‚ã‚‹ã‚‰ã—ã„

---

# æ©Ÿèƒ½è¦ä»¶

- çŠ¬ç¨®ãƒªã‚¹ãƒˆã‚’è¡¨ç¤º
- çŠ¬ç¨®ã‚’é¸æŠã™ã‚‹ã¨ç”»åƒã‚¿ã‚¤ãƒ«ãƒšãƒ¼ã‚¸ã«é·ç§»
- ç”»åƒã‚¿ã‚¤ãƒ«ã§å‰ãƒšãƒ¼ã‚¸ã«é¸æŠã—ãŸçŠ¬ç¨®ç”»åƒã‚’è¡¨ç¤º
- çŠ¬ç¨®ãƒªã‚¹ãƒˆã®æ–‡å­—åˆ—æ¤œç´¢
- ç”»åƒã‚¿ã‚¤ãƒ«ã®ç„¡é™ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«å‡¦ç†ï¼ˆæ™‚é–“ã‚ã‚Œã°ï¼‰

---

# ãƒšãƒ¼ã‚¸ç”Ÿæˆ

æ–°ã—ãçŠ¬ç¨®ãƒªã‚¹ãƒˆã®ãƒšãƒ¼ã‚¸ã‚’ç”Ÿæˆã—ã¾ã™  
ã‚ã¨ã§ä½¿ã†ç”»åƒã‚¿ã‚¤ãƒ«ãƒšãƒ¼ã‚¸ã‚‚ç”Ÿæˆã—ã¦ãŠãã¾ã™

```sh
# g ã¯ generate ã®çœç•¥
# çŠ¬ç¨®ãƒªã‚¹ãƒˆ
$ ionic g page BreedList

# ç”»åƒã‚¿ã‚¤ãƒ«
$ ionic g page BreedTile
```

---

# åˆæœŸç”»é¢ã®å¤‰æ›´

æœ€åˆã«é–‹ããƒšãƒ¼ã‚¸ã‚’HomePageã‹ã‚‰BreedListPageã«å¤‰æ›´

```ts
// app/app.component.ts

export class MyApp {
  // rootPage:any = HomePage;
  rootPage:any = 'BreedListPage';   // æ–‡å­—åˆ—æŒ‡å®š

}
```

---

# HttpClientã®èª­ã¿è¾¼ã¿

AngularãŒç”¨æ„ã—ã¦ã„ã‚‹HttpClientãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’èª­ã¿è¾¼ã¿ä½¿ç”¨ã§ãã‚‹ã‚ˆã†ã«  
å¤‰æ›´å¾Œ `ionic serve` ã‚’å†å®Ÿè¡Œ

```ts
// app/app.module.ts
// è¿½åŠ 
import { HttpClientModule } from '@angular/common/http';

@NgModule({
// ...
  imports: [
    BrowserModule,
    HttpClientModule,  // è¿½åŠ 
    IonicModule.forRoot(MyApp)
  ],
// ...
```

---

# APIã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹

APIç”¨ã«å‹å®šç¾©ã‚’ã™ã‚‹  
ä»Šå›ã¯ç°¡æ˜“çš„ãªå®Ÿè£…ã®ãŸã‚ãƒšãƒ¼ã‚¸å†…å®šç¾©

```ts
// pages/breed-list/breed-list.ts
// importæ–‡ã®å¾Œãã‚‰ã„ã«è¨˜è¿°
interface BreedListResponse {
   status: string;
   message: Array<string>;
}
```

---

# APIã‹ã‚‰ãƒ‡ãƒ¼ã‚¿å–å¾—

```ts
// pages/breed-list/breed-list.ts
import { HttpClient } from '@angular/common/http';
// ... çœç•¥
export class BreedListPage {
  list: Array<string> = [];

  constructor(public navCtrl: NavController,
    private http: HttpClient) {
  }

  ionViewDidLoad() {
    this.http.get<BreedListResponse>('https://dog.ceo/api/breeds/list')
    .subscribe((response) => {
      this.list = response.message;
    })
  }
}
```

---

# ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

APIã‹ã‚‰ãƒ‡ãƒ¼ã‚¿å–å¾—å¾Œãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã«è¡¨ç¤ºã‚’åæ˜ 

```html
<!-- pages/breed-list/breed-list.html -->
<ion-content>
  <ion-list>
    <button ion-item *ngFor="let item of list">
      {{ item }}
    </button>
  </ion-list>
</ion-content>
```

---

# ãƒªã‚¹ãƒˆè¡¨ç¤º

![breed list1](../../image/20180404/breed-list1.png)<!-- .element height="32%" width="32%" -->

---

# ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«

Ionicã§ã¯ãƒšãƒ¼ã‚¸ã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã‚’å®šç¾©

![ionic view lifecycle events](../../image/20180404/ionicViewLifecycleEvents.png)

ref: [https://blog.ionicframework.com/navigating-lifecycle-events/](https://blog.ionicframework.com/navigating-lifecycle-events/)<!--- .element target="_blank" -->

---

# ãƒšãƒ¼ã‚¸é·ç§»

ãƒªã‚¹ãƒˆã‚’ã‚¿ãƒƒãƒ—ã™ã‚‹ã¨ãƒšãƒ¼ã‚¸ç§»å‹•  
ãã®éš›æŠ¼ã—ãŸã‚¢ã‚¤ãƒ†ãƒ æƒ…å ±ã‚’é·ç§»å…ˆã«æ¸¡ã™

```html
<!-- pages/breed-list/breed-list.html -->
<!-- (click)éƒ¨åˆ†è¿½åŠ  -->
<button ion-item *ngFor="let item of list" (click)="goBreedTile(item)">
```

```ts
// pages/breed-list/breed-list.ts
ionViewDidLoad() {
    // ...
}
goBreedTile(item) {
  this.navCtrl.push('BreedTilePage', {breed: item});
}
```

---

# ç”»åƒã‚¿ã‚¤ãƒ«ã§ãƒ‡ãƒ¼ã‚¿å–å¾—

å‰ãƒšãƒ¼ã‚¸ã®çŠ¬ç¨®ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—  
ãƒšãƒ¼ã‚¸ã‚¿ã‚¤ãƒˆãƒ«ã‚’å¤‰æ›´

```ts
// pages/breed-tile/breed-tile.ts
export class BreedTilePage {
  breed: string;

  constructor(public navCtrl: NavController,
    public navParams: NavParams) {
      this.breed = this.navParams.get('breed');
      if (this.breed) {
        console.log('çŠ¬ç¨®ã¯ï¼Ÿ', this.breed);
      } else {
        this.navCtrl.setRoot('BreedListPage');
      }
  }
}
```

---

# çŠ¬ç¨®ã‚’ã‚¿ã‚¤ãƒˆãƒ«ã«è¡¨ç¤º

```html
<!-- pages/breed-tile/breed-tile.html -->
<ion-header>
  <ion-navbar>
    <ion-title>{{ breed }}</ion-title>
  </ion-navbar>
</ion-header>
```

---

# ã‚¿ã‚¤ãƒ«ã‚’è¡¨ç¤º

<ion-grid>ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã‚¿ã‚¤ãƒ«ã£ã½ãã™ã‚‹

```html
<!-- pages/breed-tile/breed-tile.html -->
<ion-content>
  <ion-grid>
    <ion-row>
      <ion-col col-6 *ngFor="let tile of [0,1,2,3,4,5]">
        <img src="http://placehold.it/300x300">
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
```

ref: [Grid](https://ionicframework.com/docs/api/components/grid/Grid/) <!--- .element target="_blank" -->

---

# APIã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹(2)

APIç”¨ã«å‹å®šç¾©ã‚’ã™ã‚‹  

```ts
// pages/breed-list/breed-tile.ts
// importæ–‡ã®å¾Œãã‚‰ã„ã«è¨˜è¿°
interface BreedImageListResponse {
  status: string;
  message: Array<string>;
}
```

---

# APIã‹ã‚‰ç”»åƒã‚’å–å¾—

```ts
// pages/breed-tile/breed-tile.ts
import { HttpClient } from '@angular/common/http';
//...çœç•¥
export class BreedTilePage {
  breed: string;
  tiles: Array<string>;
  constructor(/* çœç•¥, */ private http: HttpClient,
  ) {
//...çœç•¥
  ionViewDidLoad() {
    this.http.get<BreedImageListResponse>(`https://dog.ceo/api/breed/${this.breed}../../images`)
    .subscribe((response) => {
      // ã™ã¹ã¦è¡¨ç¤ºã™ã‚‹ã¨é‡ã„ãŸã‚10å€‹ã»ã©åˆ‡ã‚Šå‡ºã™
      this.tiles = response.message.slice(0, 10);
    });
  }
}
```

---

# ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã«åæ˜ 

```html
<!-- pages/breed-tile/breed-tile.html -->
<ion-content>
  <ion-grid>
    <ion-row>
      <ion-col col-6 *ngFor="let tile of tiles">
        <img [src]="tile">
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
```

---

# ç”»åƒè¡¨ç¤º

![breed list1](../../image/20180404/breed-tile1.png)<!-- .element height="32%" width="32%" -->

---

# ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆä¿®æ­£(HTML)

```html
<!-- pages/breed-tile/breed-tile.html -->
<ion-content>
  <ion-grid no-padding><!-- ä¿®æ­£ -->
    <ion-row><!-- ä»¥ä¸‹ã€2è¡Œä¿®æ­£ -->
      <ion-col col-6 no-padding *ngFor="let tile of tiles">
        <img [src]="tile" class="cover">
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>
```

---

# ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆä¿®æ­£(SCSS)

```css
page-breed-tile {
  .col {
    margin-top: -3px;
  }
  .cover {
    object-fit: cover;
    width: 50vmin;
    height: 50vmin;
  }
}
```

---

# ã‚¿ã‚¤ãƒ«è¡¨ç¤ºï¼ˆã½ã„ï¼‰

![breed list1](../../image/20180404/breed-tile2.png)<!-- .element height="32%" width="32%" -->

---

# æ¤œç´¢ãƒãƒ¼ã‚’å®Ÿè£…

---

# æ¤œç´¢ãƒãƒ¼è¿½åŠ 

```html
<!-- pages/breed-list/breed-list.html -->
<ion-content>
  <ion-searchbar
  [(ngModel)]="searchWord"
  (ionCancel)="cancel()"
  ></ion-searchbar>

  <ion-list><!-- ãƒªã‚¹ãƒˆã®å–å¾—ã‚’ãƒ¡ã‚½ãƒƒãƒ‰çµŒç”±ã«å¤‰æ›´ -->
    <button ion-item *ngFor="let item of getList()" (click)="goBreedTile(item)">
      {{ item }}
    </button>
  </ion-list>
</ion-content>

```

---

# æ¤œç´¢ãƒãƒ¼è¿½åŠ 


```ts
// pages/breed-list/breed-list.ts
export class BreedListPage {
  // ...çœç•¥
  getList() {
    return this.list.filter(item => item.includes(this.searchWord));
  }

  cancel() {
    this.searchWord = '';
  }
}
```

---

# æ¤œç´¢ãƒãƒ¼å®Ÿè£…

![breed list 2](../../image/20180404/breed-list2.png)<!-- .element height="32%" width="32%" -->

---

# ç´°ã‹ãªæ”¹å–„(?)

---

# ã‚¹ã‚±ãƒ«ãƒˆãƒ³ã‚¹ã‚¯ãƒªãƒ¼ãƒ³

- åˆæœŸç”»é¢ãƒ­ãƒ¼ãƒ‰æ™‚ã«ãƒ•ã‚§ã‚¤ã‚¯ã®UIã‚’è¡¨ç¤º
- ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ã‚„ã‚¹ãƒ”ãƒŠãƒ¼ã®ä»£ã‚ã‚Šã«è¡¨ç¤º

![facebook](../../image/20180404/facebook.png)<!-- .element height="32%" width="32%" -->

ref: [https://blog.ionicframework.com/improved-perceived-performance-with-skeleton-screens/](https://blog.ionicframework.com/improved-perceived-performance-with-skeleton-screens/)

---


ã‚¹ã‚±ãƒ«ãƒˆãƒ³ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã¨ã¾ã§ã¯è¨€ã‚ãªãã¦ã‚‚ãƒ­ãƒ¼ãƒ‰ä¸­ã®ã‚¿ã‚¤ãƒ«ã‚’è¡¨ç¤ºã—ã¦ã¿ã‚ˆã†


---

# ãƒ©ãƒ³ãƒ€ãƒ ã‚«ãƒ©ãƒ¼ã‚¿ã‚¤ãƒ«

ãƒ‡ãƒ¼ã‚¿ã®æŒã¡æ–¹ã‚’å¤‰æ›´  
ã‚¿ã‚¤ãƒ«ç”¨ã«ã‚¯ãƒ©ã‚¹ã‚’å®šç¾©

```ts
// pages/breed-tile/breed-tile.ts
class Tile {
  constructor(
    public uri: string, // ç”»åƒ
    public color: string,   // ã‚¿ã‚¤ãƒ«ã‚«ãƒ©ãƒ¼
    public load: boolean,   // èª­ã¿è¾¼ã¿å®Œäº†ãƒ•ãƒ©ã‚°
  ) {}
}
```

---

# ã‚¿ã‚¤ãƒ«å‡¦ç†

```ts
// pages/breed-tile/breed-tile.ts
export class BreedTilePage {
  breed: string;
  tiles: Array<Tile> = [];
  // ...çœç•¥
  ionViewDidLoad() {
    this.http.get<BreedImageListResponse>(`https://dog.ceo/api/breed/${this.breed}../../images`)
    .subscribe((response) => {
      // ã™ã¹ã¦è¡¨ç¤ºã™ã‚‹ã¨é‡ã„ãŸã‚10å€‹ã»ã©åˆ‡ã‚Šå‡ºã™
      const arr = response.message.slice(0, 10);
      this.tiles = arr.map((val) => new Tile(val, this.getColor(), false));
    });
  }

  getColor() {
    return `rgb(${this.getColorValue()},${this.getColorValue()},${this.getColorValue()})`;
  }

  getColorValue() {
    return Math.floor(Math.random() * 255);
  }
}
```

---

# ã‚¿ã‚¤ãƒ«ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

```html
<!-- pages/breed-tile/breed-tile.html -->
<ion-grid no-padding>
  <ion-row>
    <ion-col col-6 no-padding *ngIf="tiles.length === 0">
      <img class="cover" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNc9R8AAlkBq1Ih+jkAAAAASUVORK5CYII=">
    </ion-col>

    <ion-col col-6 no-padding *ngFor="let tile of tiles; let i = index">
      <img [src]="tile.uri" class="cover" [style.background]="tile.color" (load)="tile.load = true">
    </ion-col>
  </ion-row>
</ion-grid>
```

---

# çµæœ

![breed tile 3](../../image/20180404/breed-tile3.png)<!-- .element height="32%" width="32%" -->

---

# æ™‚é–“ãŒæ®‹ã‚Œã°ãƒ©ã‚¤ãƒ–ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°

---

# ã“ã‚Œã‹ã‚‰ã®å­¦ç¿’

---

# ãŠã™ã™ã‚è³‡æ–™

- Ionicã§ä½œã‚‹ ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒªåˆ¶ä½œå…¥é–€
    - å”¯ä¸€ã®æ—¥æœ¬èªæ›¸ç±ã€‚è‹±èªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯â€¦ã¨ã„ã†æ–¹ã¯ã“ã¡ã‚‰ã‹ã‚‰
- Ionicã®[ãƒ–ãƒ­ã‚°](https://blog.ionicframework.com)
    - ç›®ç‰ã®æ©Ÿèƒ½ã¯å¤§ä½“è¨˜äº‹ç´¹ä»‹ã•ã‚Œã‚‹
- å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ã‚µãƒ³ãƒ—ãƒ«
    - UIã‚’æ¢ã™å ´åˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‹ã‚‰å¼•ã£å¼µã£ã¦ãã‚‹ã®ã§ã»ã¼å¿…é ˆ

å¤§åŠã®å•é¡Œã¯å…¬å¼ãƒ•ã‚©ãƒ¼ãƒ©ãƒ ã‹Stackoverflowã§å‡ºã‚‹ãã‚‰ã„æ´»ç™º

---

# v4é–‹ç™ºä¸­

@ionic/coreã¨@ionic/angularã«åˆ†é›¢

- Web Componentsãƒ™ãƒ¼ã‚¹ã«å¤‰æ›´
- Server Side Rendering
- Angular Routerã®æ¡ç”¨

---

# æ³¨ç›®ãƒ„ãƒ¼ãƒ«

- Stencil
    - Webã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©
    - ç”Ÿæˆã—ãŸWebã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ãƒ–ãƒ©ã‚¦ã‚¶ã§åˆ©ç”¨å¯èƒ½
    - Ionic/Angularã«ä¾å­˜ã—ã¦ã„ãªã„
- Capacitor
    - ã‚¯ãƒ­ã‚¹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ãƒ„ãƒ¼ãƒ«
    - æ—¢å­˜ã®Cordovaãƒ—ãƒ©ã‚°ã‚¤ãƒ³äº’æ›ã‚’ç›®æŒ‡ã™
    - Ionicæ”¹å–„æ‰‹æ®µã¨ã—ã¦ä½œæˆã‚’æ±ºæ–­ã—ãŸã¨ã®ã“ã¨
    - [Announcing Capacitor 1.0.0 Alpha](https://blog.ionicframework.com/announcing-capacitor-1-0-0-alpha/)

---

# ãŠã¤ã‹ã‚Œã•ã¾ã§ã—ãŸğŸµ
